@model IEnumerable<Projeto_Lunary.Models.Restaurante>
@{
    ViewBag.Title = "Pratos";
}
<head>
    <link href="~/Content/Menu/Menu.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <script src="~/Scripts/Menu/FilterCate.js"></script>
</head>

<body>

    <h1 class="titulo">Lunary</h1>
    <p class="subtitulo">Cardápio</p>



    <div class="barraVermelha">.</div>


    <p class="barra">Menu</p>



    <!-- Filtro Categorias -->
    <div class="botao btn-group">
        <div class="dropdown">
            <select style="text-transform: uppercase;" onchange="FiltroCategorias()" id="FiltroCategorias" class="btn btn-danger dropdown-toggle">

                @foreach (var item in ViewBag.ListCategorias)
                {
                    <option  onchange="FiltroCategorias()" value="@item.RESTACATEGORIA">@item.RESTACATEGORIA</option>

                }
            </select>
        </div>
    </div>


    <!-- Pratos -->
    <div>
        @foreach (var item in Model)
        {
            <div class="row pratos @item.RESTACATEGORIA">
                <div class="col-lg-12">
                    <div data-toggle="modal" data-target="#PratosDetalhe-@item.RESTAUID" data-descricao="@item.RESTADESCRICAO">
                        <img class="img" src="~/Content/Menu/img/PratoExemplo.png" width="232" height="232">
                    </div>

                    <h3 class="text-center name">@item.RESTANOME</h3>

                    <!--Btn Coração-->
                    <div class="heart-btn" >
                        <div class="content">
                            <span class="heart" id="Heart-@item.RESTAUID"></span>

                        </div>
                    </div>
                    <p class="preco">R$ @item.RESTAPRECO.ToString("F")</p>
                </div>
            </div>

            <!-- Modal Exibir-->
            <div class="modal fade" id="PratosDetalhe-@item.RESTAUID" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Prato Detalhes</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>


                        </div>
                        <div class="modal-body">
                            
                            <div class="col-lg-12">
                                <img class="imgmodal" src="~/Content/Menu/img/PratoExemplo.png" width="232" height="232">
                                <h3 class="text-center name">@item.RESTANOME</h3>

                                <p> @item.RESTADESCRICAO</p>
                                <h3 class="text-center name">R$ @item.RESTAPRECO.ToString("F")</h3>
                            </div>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </div>
            </div>


        }

    </div>







    
   
    <script>

        window.onload = () => {
            document.queryCommandIndeterm
            FiltroCategorias()
        }

        //Modal
        $('#PratosDetalhe').on('show.bs.modal', function (event) {
            var prato = $(event.relatedTarget) // Button that triggered the modal
            var descricao = prato.data('descricao') // Extract info from data-* attributes
            // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
            // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
            var modal = $(this)
            modal.find('.modal-title').text('New message to ' + descricao)
            modal.find('.modal-body h3').val(descricao)
            bootbox.dialog(

            );

        })
       
        
    $(document).ready(function () {
        $('.heart').click(function () {   

            var t = (this.id);
            let el = document.getElementById(t);


            
            if (el.classList.contains('heart-active')){
                el.classList.remove('heart-active');
            }
            else {
                el.classList.add('heart-active');
            }

            
           

            //$('.heart').toggleClass("heart-active")
        });

       
    });
        
    </script>
</body>




